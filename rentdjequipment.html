<!DOCTYPE html>
<html lang="he" dir="rtl">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>

    <link href="https://unpkg.com/tailwindcss@^2/dist/tailwind.min.css" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>

    <style>
        .count-input {
            display: inline-flex;
            width: 80px;
            height: 30px;
            background-color: #f9f9f9;

            &,
            & * {
                box-sizing: border-box;
            }

            & input[type="number"] {
                -webkit-appearance: textfield;
                -moz-appearance: textfield;
                appearance: textfield;
                border: 0px;
                padding: 0;
                box-shadow: none !important;
                font-family: sans-serif;
                font-size: 14px;
                width: 30px;
                height: 100%;
                text-align: center;
                color: #777777;
                background-color: #f9f9f9;
            }

            & input[type=number]::-webkit-inner-spin-button,
            & input[type=number]::-webkit-outer-spin-button {
                -webkit-appearance: none;
            }

            & button {
                position: relative;
                outline: none;
                -webkit-appearance: none;
                background-color: transparent;
                border: none;
                align-items: center;
                justify-content: center;
                width: 30px;
                height: 100%;
                cursor: pointer;
                margin: 0;
                font-family: "Helvetica";
                font-size: 16px;
                color: #999999;
                font-weight: normal;
                position: relative;

                &:hover:after {
                    background-color: #eee;
                }

                &:after {
                    display: inline-flex;
                    position: absolute;
                    justify-content: center;
                    align-items: center;
                    top: 0px;
                    left: 0;
                    right: 0;
                    width: 100%;
                    height: 100%;
                    bottom: 0px;
                    margin: auto;
                    content: '−';
                }

                &.plus-button:after {
                    content: '+';
                }
            }
        }
    </style>

    <style>
        #id-photo {
            width: 350px;
            height: 200px;
            position: relative;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        #bannana-wrapper {
            position: absolute;
            opacity: 0.25;
            inset: 5%;
            overflow: hidden;
        }

        #bannana {
            object-fit: contain;
            object-position: center;
            width: 100%;
            height: 100%;
        }

        input {
            cursor: text;
            background-color: lightgrey;
        }

        label {
            cursor: pointer;
        }

        .my-count-input-wrapper {
            display: flex;
            align-items: center;
            gap: 10px;
            opacity: 0.5;
        }

        #additional_notes {
            pointer-events: none;
        }

        .bullet::before {
            content: "• ";
            color: black;
            /* bullet color */
            font-weight: bold;
        }

        .bullet-list {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        #signature-pad {
            background-color: lightgray;
            border-radius: 5px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
            /* subtle soft shadow */
        }

        .signature-text {
            padding-bottom: 18px;
        }

        h1 {
            font-size: 30px !important
        }

        h3 {
            padding-top: 20px
        }
    </style>

</head>

<body class="bg-gray-100" style="display: none">
    <form class="container mx-auto py-5" action="https://formspree.io/f/xdkzpved" method="POST">

        <div class="md:grid md:grid-cols-3 md:gap-6">
            <div class="md:col-span-1">
                <div class="px-4 sm:px-0">
                    <h1 class="text-lg font-medium leading-6 text-gray-900" style="font-weight: bold;">
                        טופס השכרת ציוד
                    </h1>
                </div>
            </div>

            <div class="mt-5 md:mt-0 md:col-span-2">
            </div>


        </div>

        <div class="hidden sm:block" aria-hidden="true">
            <div class="py-5">
                <div class="border-t border-gray-200"></div>
            </div>
        </div>

        <div class="mt-10 sm:mt-0">
            <div class="md:grid md:grid-cols-3 md:gap-6">
                <div class="md:col-span-1">
                    <div class="px-4 sm:px-0">
                        <h3 class="text-lg font-medium leading-6 text-gray-900" style="font-weight: bold;">פרטים אישיים
                        </h3>
                    </div>
                </div>
                <div class="mt-5 md:mt-0 md:col-span-2">
                    <div>
                        <div class="shadow overflow-hidden sm:rounded-md">
                            <div class="px-4 py-5 bg-white sm:p-6">
                                <div class="grid grid-cols-6 gap-6">

                                    <div class="col-span-6 sm:col-span-3">
                                        <label for="return_date"
                                            class="block text-sm font-medium text-gray-700">תאריך</label>
                                        <input type="date" id="return_date" name="return_date"
                                            class="mt-1 focus:ring-indigo-500 focus:border-indigo-500 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md"
                                            required>
                                    </div>

                                    <div class="col-span-6 sm:col-span-3">
                                        <label for="id" class="block text-sm font-medium text-gray-700">ת.ז</label>
                                        <input type="text" id="id" name="id" pattern="\d{9}" style="text-align: left"
                                            title="מספר תעודת זהות חוקי" required
                                            class="mt-1 focus:ring-indigo-500 focus:border-indigo-500 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md">
                                    </div>

                                    <div class="col-span-6 sm:col-span-3">
                                        <label for="phone" class="block text-sm font-medium text-gray-700">טלפון</label>
                                        <input type="tel" id="phone" name="phone" pattern="^05\d{8}$"
                                            title="טלפון בפורמט תקני" required
                                            class="mt-1 focus:ring-indigo-500 focus:border-indigo-500 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md">
                                    </div>

                                    <div class="col-span-6 sm:col-span-3" style="opacity:0;">
                                    </div>

                                    <div class="col-span-6 sm:col-span-3">
                                        <label for="event_date" class="block text-sm font-medium text-gray-700">תאריך
                                            האירוע</label>
                                        <input type="date" id="event_date" name="event_date" required
                                            class="mt-1 focus:ring-indigo-500 focus:border-indigo-500 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md">
                                    </div>

                                    <div class="col-span-6 sm:col-span-3">
                                        <label for="event_address" class="block text-sm font-medium text-gray-700">כתובת
                                            האירוע</label>
                                        <input type="text" id="event_address" name="event_address" required
                                            class="mt-1 focus:ring-indigo-500 focus:border-indigo-500 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md">
                                    </div>

                                    <div class="col-span-6 sm:col-span-3">
                                        <label for="pickup_date" class="block text-sm font-medium text-gray-700">איסוף
                                            עצמי מתאריך:</label>
                                        <input type="date" id="pickup_date" name="pickup_date" required
                                            class="mt-1 focus:ring-indigo-500 focus:border-indigo-500 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md">
                                    </div>

                                    <div class="col-span-6 sm:col-span-3">
                                        <label for="pickup_time"
                                            class="block text-sm font-medium text-gray-700">בשעה:</label>
                                        <input type="time" id="pickup_time" name="pickup_time" required
                                            class="mt-1 focus:ring-indigo-500 focus:border-indigo-500 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md">
                                    </div>

                                    <div class="col-span-6 sm:col-span-3">
                                        <label for="return_date" class="block text-sm font-medium text-gray-700">עד
                                            תאריך:</label>
                                        <input type="date" id="return_date" name="return_date" required
                                            class="mt-1 focus:ring-indigo-500 focus:border-indigo-500 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md">
                                    </div>

                                    <div class="col-span-6 sm:col-span-3">
                                        <label for="return_time"
                                            class="block text-sm font-medium text-gray-700">בשעה:</label>
                                        <input type="time" id="return_time" name="return_time" required
                                            class="mt-1 focus:ring-indigo-500 focus:border-indigo-500 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md">
                                    </div>

                                    <div class="col-span-6 sm:col-span-3">
                                        <label for="price" class="block text-sm font-medium text-gray-700">מחיר
                                            ב-&#8362; (לא כולל
                                            מע"מ)</label>
                                        <input type="number" id="price" name="price" min="0" style="text-align: left;"
                                            required
                                            class="mt-1 focus:ring-indigo-500 focus:border-indigo-500 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md">
                                    </div>

                                    <div class="col-span-6 sm:col-span-3" style="display: hidden"></div>

                                    <div>
                                        <label class="block text-sm font-medium text-gray-700">
                                            צילום תעודת זהות
                                        </label>
                                        <div class="mt-1 flex justify-center px-6 pt-5 pb-6 border-2 border-gray-300 border-dashed rounded-md"
                                            id="id-photo">

                                            <div id="bannana-wrapper">
                                                <img id="bannana">
                                            </div>

                                            <div class="space-y-1 text-center" id="id-photo-instructions">
                                                <svg class="mx-auto h-12 w-12 text-gray-400" stroke="currentColor"
                                                    fill="none" viewBox="0 0 48 48" aria-hidden="true">
                                                    <path
                                                        d="M28 8H12a4 4 0 00-4 4v20m32-12v8m0 0v8a4 4 0 01-4 4H12a4 4 0 01-4-4v-4m32-4l-3.172-3.172a4 4 0 00-5.656 0L28 28M8 32l9.172-9.172a4 4 0 015.656 0L28 28m0 0l4 4m4-24h8m-4-4v8m-12 4h.02"
                                                        stroke-width="2" stroke-linecap="round"
                                                        stroke-linejoin="round" />
                                                </svg>


                                                <div class="flex text-sm text-gray-600">
                                                    <label for="file-upload"
                                                        class="relative cursor-pointer bg-white rounded-md font-medium text-indigo-600 hover:text-indigo-500 focus-within:outline-none focus-within:ring-2 focus-within:ring-offset-2 focus-within:ring-indigo-500">
                                                        <span>העלה קובץ תמונה</span>
                                                        <input id="file-upload" name="file-upload" type="file"
                                                            class="sr-only" accept="image/*" required>
                                                    </label>
                                                    <p class="pl-1"> או גרור</p>
                                                </div>
                                                <p class="text-xs text-gray-500">
                                                    PNG, JPG, GIF up to 1MB
                                                </p>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="hidden sm:block" aria-hidden="true">
                <div class="py-5">
                    <div class="border-t border-gray-200"></div>
                </div>
            </div>


            <div class="md:grid md:grid-cols-3 md:gap-6">
                <div class="md:col-span-1">
                    <div class="px-4 sm:px-0">
                        <h3 class="text-lg font-medium leading-6 text-gray-900" style="font-weight: bold;">ציוד - פלטות
                            ודי-ג'יי
                        </h3>
                    </div>
                </div>
                <div class="mt-5 md:mt-0 md:col-span-2">
                    <div>
                        <div class="shadow overflow-hidden sm:rounded-md">
                            <div class="px-4 py-5 bg-white sm:p-6">
                                <div class="grid grid-cols-6 gap-6">


                                    <div class="col-span-6 sm:col-span-3 my-count-input-wrapper">
                                        <label for="platot1" class="block text-sm font-medium text-gray-700">
                                            פלטה פיוניר 3000 – כוללת 2 נגנים ומיקסר 900NXS2 / A9
                                        </label>
                                        <div style="display: flex; justify-content: center;">
                                            <div class="count-input">
                                                <button type="button"></button>
                                                <input class="quantity" min="0" id="platot1" name="platot1" value="0"
                                                    type="number">
                                                <button type="button" class="plus-button"></button>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="col-span-6 sm:col-span-3" style="display: hidden"></div>

                                    <div class="col-span-6 sm:col-span-3 my-count-input-wrapper">
                                        <label for="platot2" class="block text-sm font-medium text-gray-700">
                                            פלטה פיוניר 2000NXS2 – כוללת 2 נגנים, מיקסר 900NXS / 750MK2, כולל קייסים
                                        </label>
                                        <div style="display: flex; justify-content: center;">
                                            <div class="count-input">
                                                <button type="button"></button>
                                                <input class="quantity" min="0" id="platot2" name="platot2" value="0"
                                                    type="number">
                                                <button type="button" class="plus-button"></button>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="col-span-6 sm:col-span-3" style="display: hidden"></div>

                                    <div class="col-span-6 sm:col-span-3 my-count-input-wrapper">
                                        <label for="platot3" class="block text-sm font-medium text-gray-700">
                                            פלטה פיוניר 900NXS – כוללת 2 נגנים, מיקסר 750MK2, כולל קייסים
                                        </label>
                                        <div style="display: flex; justify-content: center;">
                                            <div class="count-input">
                                                <button type="button"></button>
                                                <input class="quantity" min="0" id="platot3" name="platot3" value="0"
                                                    type="number">
                                                <button type="button" class="plus-button"></button>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="col-span-6 sm:col-span-3" style="display: hidden"></div>

                                    <div class="col-span-6 sm:col-span-3 my-count-input-wrapper">
                                        <label for="platot4" class="block text-sm font-medium text-gray-700">
                                            קונטרולר פיוניר RX3 – כולל כיסוי
                                        </label>
                                        <div style="display: flex; justify-content: center;">
                                            <div class="count-input">
                                                <button type="button"></button>
                                                <input class="quantity" min="0" id="platot4" name="platot4" value="0"
                                                    type="number">
                                                <button type="button" class="plus-button"></button>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="col-span-6 sm:col-span-3" style="display: hidden"></div>

                                    <div class="col-span-6 sm:col-span-3 my-count-input-wrapper">
                                        <label for="platot5" class="block text-sm font-medium text-gray-700">
                                            עמדת DJ פרימיום – 2 נגנים ומיקסר בצבע שחור / לבן
                                        </label>
                                        <div style="display: flex; justify-content: center;">
                                            <div class="count-input">
                                                <button type="button"></button>
                                                <input class="quantity" min="0" id="platot5" name="platot5" value="0"
                                                    type="number">
                                                <button type="button" class="plus-button"></button>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="col-span-6 sm:col-span-3" style="display: hidden"></div>

                                    <div class="col-span-6 sm:col-span-3 my-count-input-wrapper">
                                        <label for="platot6" class="block text-sm font-medium text-gray-700">
                                            עמדת DJ פרימיום – 4 נגנים ומיקסר בצבע שחור
                                        </label>
                                        <div style="display: flex; justify-content: center;">
                                            <div class="count-input">
                                                <button type="button"></button>
                                                <input class="quantity" min="0" id="platot6" name="platot6" value="0"
                                                    type="number">
                                                <button type="button" class="plus-button"></button>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="col-span-6 sm:col-span-3" style="display: hidden"></div>

                                    <div class="col-span-6 sm:col-span-3 my-count-input-wrapper">
                                        <label for="platot7" class="block text-sm font-medium text-gray-700">
                                            מיקסר DJ Xone:4D
                                        </label>
                                        <div style="display: flex; justify-content: center;">
                                            <div class="count-input">
                                                <button type="button"></button>
                                                <input class="quantity" min="0" id="platot7" name="platot7" value="0"
                                                    type="number">
                                                <button type="button" class="plus-button"></button>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="col-span-6 sm:col-span-3" style="display: hidden"></div>

                                    <div class="col-span-6 sm:col-span-3 my-count-input-wrapper">
                                        <label for="platot8" class="block text-sm font-medium text-gray-700">
                                            מיקסר 900NXS2 / A9
                                        </label>
                                        <div style="display: flex; justify-content: center;">
                                            <div class="count-input">
                                                <button type="button"></button>
                                                <input class="quantity" min="0" id="platot8" name="platot8" value="0"
                                                    type="number">
                                                <button type="button" class="plus-button"></button>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="col-span-6 sm:col-span-3" style="display: hidden"></div>

                                    <div class="col-span-6 sm:col-span-3 my-count-input-wrapper">
                                        <label for="platot9" class="block text-sm font-medium text-gray-700">
                                            מיקסר V10
                                        </label>
                                        <div style="display: flex; justify-content: center;">
                                            <div class="count-input">
                                                <button type="button"></button>
                                                <input class="quantity" min="0" id="platot9" name="platot9" value="0"
                                                    type="number">
                                                <button type="button" class="plus-button"></button>
                                            </div>
                                        </div>
                                    </div>

                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>



            <div class="hidden sm:block" aria-hidden="true">
                <div class="py-5">
                    <div class="border-t border-gray-200"></div>
                </div>
            </div>



            <div class="md:grid md:grid-cols-3 md:gap-6">
                <div class="md:col-span-1">
                    <div class="px-4 sm:px-0">
                        <h3 class="text-lg font-medium leading-6 text-gray-900" style="font-weight: bold;">ציוד - מערכות
                            הגברה ורמקולים
                        </h3>
                    </div>
                </div>
                <div class="mt-5 md:mt-0 md:col-span-2">
                    <div>
                        <div class="shadow overflow-hidden sm:rounded-md">
                            <div class="px-4 py-5 bg-white sm:p-6">
                                <div class="grid grid-cols-6 gap-6">


                                    <div class="col-span-6 sm:col-span-3 my-count-input-wrapper">
                                        <label for="sound1" class="block text-sm font-medium text-gray-700">
                                            מערכת קולונה RCF EVOX8 – כוללת 2 באסים, 2 טופים, 1400W, כיסויים, סטנדים
                                            וחיווט
                                        </label>
                                        <div style="display: flex; justify-content: center;">
                                            <div class="count-input">
                                                <button type="button"></button>
                                                <input class="quantity" min="0" id="sound1" name="sound1" value="0"
                                                    type="number">
                                                <button type="button" class="plus-button"></button>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-span-6 sm:col-span-3" style="display: hidden"></div>

                                    <div class="col-span-6 sm:col-span-3 my-count-input-wrapper">
                                        <label for="sound2" class="block text-sm font-medium text-gray-700">
                                            מערכת קולונה Audio Center גדולה – כוללת 2 בסים כפולים, 2 רמקולים, 3 כיסויים,
                                            2 סטנדים וחיווט, 2500W
                                        </label>
                                        <div style="display: flex; justify-content: center;">
                                            <div class="count-input">
                                                <button type="button"></button>
                                                <input class="quantity" min="0" id="sound2" name="sound2" value="0"
                                                    type="number">
                                                <button type="button" class="plus-button"></button>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-span-6 sm:col-span-3" style="display: hidden"></div>

                                    <div class="col-span-6 sm:col-span-3 my-count-input-wrapper">
                                        <label for="sound3" class="block text-sm font-medium text-gray-700">
                                            רמקולים Martin 15 קואקסיאליים – כולל 2 סטנדים, 2 כיסויים וחיווט
                                        </label>
                                        <div style="display: flex; justify-content: center;">
                                            <div class="count-input">
                                                <button type="button"></button>
                                                <input class="quantity" min="0" id="sound3" name="sound3" value="0"
                                                    type="number">
                                                <button type="button" class="plus-button"></button>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-span-6 sm:col-span-3" style="display: hidden"></div>

                                    <div class="col-span-6 sm:col-span-3 my-count-input-wrapper">
                                        <label for="sound4" class="block text-sm font-medium text-gray-700">
                                            מערכת הגברה Line Array Audio Center – כוללת 10 טופים, 4 סאבים, ליפטים לתלייה
                                            בגובה (חרגולים)
                                        </label>
                                        <div style="display: flex; justify-content: center;">
                                            <div class="count-input">
                                                <button type="button"></button>
                                                <input class="quantity" min="0" id="sound4" name="sound4" value="0"
                                                    type="number">
                                                <button type="button" class="plus-button"></button>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-span-6 sm:col-span-3" style="display: hidden"></div>

                                    <div class="col-span-6 sm:col-span-3 my-count-input-wrapper">
                                        <label for="sound5" class="block text-sm font-medium text-gray-700">
                                            רמקולים Turbosound NuQ 152 – כולל סטנדים, כיסויים וחיווט
                                        </label>
                                        <div style="display: flex; justify-content: center;">
                                            <div class="count-input">
                                                <button type="button"></button>
                                                <input class="quantity" min="0" id="sound5" name="sound5" value="0"
                                                    type="number">
                                                <button type="button" class="plus-button"></button>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-span-6 sm:col-span-3" style="display: hidden"></div>

                                    <div class="col-span-6 sm:col-span-3 my-count-input-wrapper">
                                        <label for="sound6" class="block text-sm font-medium text-gray-700">
                                            סאבים 18 אינץ' Turbosound NuQ118 שופרי
                                        </label>
                                        <div style="display: flex; justify-content: center;">
                                            <div class="count-input">
                                                <button type="button"></button>
                                                <input class="quantity" min="0" id="sound6" name="sound6" value="0"
                                                    type="number">
                                                <button type="button" class="plus-button"></button>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-span-6 sm:col-span-3" style="display: hidden"></div>

                                    <div class="col-span-6 sm:col-span-3 my-count-input-wrapper">
                                        <label for="sound7" class="block text-sm font-medium text-gray-700">
                                            סאבים Audio Center 18x2 – 3000W
                                        </label>
                                        <div style="display: flex; justify-content: center;">
                                            <div class="count-input">
                                                <button type="button"></button>
                                                <input class="quantity" min="0" id="sound7" name="sound7" value="0"
                                                    type="number">
                                                <button type="button" class="plus-button"></button>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-span-6 sm:col-span-3" style="display: hidden"></div>


                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="hidden sm:block" aria-hidden="true">
            <div class="py-5">
                <div class="border-t border-gray-200"></div>
            </div>
        </div>

        <div class="md:grid md:grid-cols-3 md:gap-6">
            <div class="md:col-span-1">
                <div class="px-4 sm:px-0">
                    <h3 class="text-lg font-medium leading-6 text-gray-900" style="font-weight: bold;">ציוד נלווה ל-DJ
                    </h3>
                </div>
            </div>
            <div class="mt-5 md:mt-0 md:col-span-2">
                <div>
                    <div class="shadow overflow-hidden sm:rounded-md">
                        <div class="px-4 py-5 bg-white sm:p-6">
                            <div class="grid grid-cols-6 gap-6">
                                <div class="col-span-6 sm:col-span-3 my-count-input-wrapper">
                                    <label for="djextra1" class="block text-sm font-medium text-gray-700">
                                        נגן בודד 2000NXS2
                                    </label>
                                    <div style="display: flex; justify-content: center;">
                                        <div class="count-input">
                                            <button type="button"></button>
                                            <input class="quantity" min="0" id="djextra1" name="djextra1" value="0"
                                                type="number">
                                            <button type="button" class="plus-button"></button>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-span-6 sm:col-span-3" style="display: hidden"></div>

                                <div class="col-span-6 sm:col-span-3 my-count-input-wrapper">
                                    <label for="djextra2" class="block text-sm font-medium text-gray-700">
                                        נגן בודד 3000
                                    </label>
                                    <div style="display: flex; justify-content: center;">
                                        <div class="count-input">
                                            <button type="button"></button>
                                            <input class="quantity" min="0" id="djextra2" name="djextra2" value="0"
                                                type="number">
                                            <button type="button" class="plus-button"></button>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-span-6 sm:col-span-3" style="display: hidden"></div>

                                <div class="col-span-6 sm:col-span-3 my-count-input-wrapper">
                                    <label for="djextra3" class="block text-sm font-medium text-gray-700">
                                        RMX-1000 – מכשיר אפקטים פיוניר
                                    </label>
                                    <div style="display: flex; justify-content: center;">
                                        <div class="count-input">
                                            <button type="button"></button>
                                            <input class="quantity" min="0" id="djextra3" name="djextra3" value="0"
                                                type="number">
                                            <button type="button" class="plus-button"></button>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-span-6 sm:col-span-3" style="display: hidden"></div>



                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>



        <div class="hidden sm:block" aria-hidden="true">
            <div class="py-5">
                <div class="border-t border-gray-200"></div>
            </div>
        </div>

        <div class="md:grid md:grid-cols-3 md:gap-6">
            <div class="md:col-span-1">
                <div class="px-4 sm:px-0">
                    <h3 class="text-lg font-medium leading-6 text-gray-900" style="font-weight: bold;"> תוספות
                    </h3>
                </div>
            </div>
            <div class="mt-5 md:mt-0 md:col-span-2">
                <div>
                    <div class="shadow overflow-hidden sm:rounded-md">
                        <div class="px-4 py-5 bg-white sm:p-6">
                            <div class="grid grid-cols-6 gap-6">
                                <div class="col-span-6 sm:col-span-3 my-count-input-wrapper">
                                    <label for="extras1" class="block text-sm font-medium text-gray-700">
                                        מיקסר אומנים
                                    </label>
                                    <div style="display: flex; justify-content: center;">
                                        <div class="count-input">
                                            <button type="button"></button>
                                            <input class="quantity" min="0" id="extras1" name="extras1" value="0"
                                                type="number">
                                            <button type="button" class="plus-button"></button>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-span-6 sm:col-span-3" style="display: hidden"></div>

                                <div class="col-span-6 sm:col-span-3 my-count-input-wrapper">
                                    <label for="extras2" class="block text-sm font-medium text-gray-700">
                                        כרטיס רשת
                                    </label>
                                    <div style="display: flex; justify-content: center;">
                                        <div class="count-input">
                                            <button type="button"></button>
                                            <input class="quantity" min="0" id="extras2" name="extras2" value="0"
                                                type="number">
                                            <button type="button" class="plus-button"></button>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-span-6 sm:col-span-3" style="display: hidden"></div>

                                <div class="col-span-6 sm:col-span-3 my-count-input-wrapper">
                                    <label for="extras3" class="block text-sm font-medium text-gray-700">
                                        טכנאי / ליווי אירוע – עד 8 שעות
                                    </label>
                                    <div style="display: flex; justify-content: center;">
                                        <div class="count-input">
                                            <button type="button"></button>
                                            <input class="quantity" min="0" id="extras3" name="extras3" value="0"
                                                type="number">
                                            <button type="button" class="plus-button"></button>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-span-6 sm:col-span-3" style="display: hidden"></div>


                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="hidden sm:block" aria-hidden="true">
            <div class="py-5">
                <div class="border-t border-gray-200"></div>
            </div>
        </div>

        <div class="md:grid md:grid-cols-3 md:gap-6">
            <div class="md:col-span-1">
                <div class="px-4 sm:px-0">
                    <h3 class="text-lg font-medium leading-6 text-gray-900" style="font-weight: bold;"> פריטים נוספים
                    </h3>
                </div>
            </div>
            <div class="mt-5 md:mt-0 md:col-span-2">
                <div>
                    <div class="shadow overflow-hidden sm:rounded-md">
                        <div class="px-4 py-5 bg-white sm:p-6">
                            <div class="grid grid-cols-6 gap-6">

                                <div class="col-span-6 sm:col-span-3">
                                    <label for="additional_notes" class="block text-sm font-medium text-gray-700">
                                        פירוט הזמנות נוספות שלא מצוינות מלעיל
                                    </label>
                                    <textarea id="additional_notes" name="additional_notes" rows="14"
                                        class="mt-1 focus:ring-indigo-500 focus:border-indigo-500 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md"
                                        readonly></textarea>
                                </div>

                                <div class="col-span-6 sm:col-span-3" style="display: hidden"></div>

                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="hidden sm:block" aria-hidden="true">
            <div class="py-5">
                <div class="border-t border-gray-200"></div>
            </div>
        </div>

        <div class="md:grid md:grid-cols-3 md:gap-6">
            <div class="md:col-span-1">
                <div class="px-4 sm:px-0">
                    <h3 class="text-lg font-medium leading-6 text-gray-900" style="font-weight: bold;"> פרטי הסכם
                    </h3>
                </div>
            </div>
            <div class="mt-5 md:mt-0 md:col-span-2">
                <div>
                    <div class="shadow overflow-hidden sm:rounded-md">
                        <div class="px-4 py-5 bg-white sm:p-6 bullet-list">

                            <p class="bullet block text-sm font-medium text-gray-700"> מסוכם בין הצדדים כי במקרה של
                                ביטול ישלם המזמין דמי ביטול 40%. ואם יבטל המזמין בתווך של 24 שעות, ישלם מחיר מלא. </p>

                            <p class="bullet block text-sm font-medium text-gray-700">
                                מסוכם כי הציוד יתקבל במצב תקין ויוחזר במצב תקין, כל נזק שייגרם כתוצאה מרשלנות ולא בלאי
                                סביר יהיה באחריות המזמין, המשכיר ייתקן על חשבונו והשוכר יחויב במחיר התיקון במלואו.
                            </p>


                            <p class="bullet block text-sm font-medium text-gray-700">
                                זמן התיקון עד 5 ימים. כל יום מעבר לכך יחויב המזמין ב500 שקלים.
                            </p>

                            <p class="bullet block text-sm font-medium text-gray-700">
                                המחיר כולל השכרת ציוד בלבד, במידה והמזמין ירצה ליווי במה לאורך שעות האירוע יהיה זה כרוך
                                בתשלום נוסף, ובתיאום מראש.
                            </p>

                            <p class="bullet block text-sm font-medium text-gray-700">
                                המשכיר מתחייב כי הציוד יעמוד מוכן לעבודה כ-60 דקות לפני תחילת האירוע לכל המאוחר, במידה
                                והשוכר הזמין ליווי במה.
                            </p>

                            <p class="bullet block text-sm font-medium text-gray-700">
                                ידוע למזמין במידה כי באחריותו הבלעדית להחזיר את הציוד לאחר שעות העבודה שנקבעו מראש. עם
                                זאת, אם וכאשר לא יוחזר הציוד בזמן הנקוב, ישלם המזמין על כל יום נוסף 900 ₪ + מע"מ, והחיוב
                                יחל ישר מהשעה הראשונה המצוינת בהסכם זה.
                            </p>

                            <p class="bullet block text-sm font-medium text-gray-700">
                                חל איסור מוחלט לעבוד עם הציוד במקום פתוח ללא שמשייה, צלונית, שתכסה ותגן על כל הציוד מפני
                                השמש.
                            </p>

                            <p class="bullet block text-sm font-medium text-gray-700">
                                חל איסור מוחלט לעבוד עם הציוד במסיבות ללא היתר ו/או לכל שימוש אחר שאינו במסגרת החוק.
                            </p>

                            <p class="bullet block text-sm font-medium text-gray-700">
                                חל איסור מוחלט לעבוד עם הציוד באזור חופי הים ובאזורים מדבריים עם סופות חול, לדוגמה מצוקי
                                דרגות, פסטיבל מדברן, וכל סוג של האירוע אשר נעשה במקום מדברי, מקום עם אבק (חול פודרה) אשר
                                עלול לחדור למכשירים ולפגוע בתקינותם.
                            </p>

                            <p class="bullet block text-sm font-medium text-gray-700">
                                המזמין מתחייב להצהיר על מקום מדויק של האירוע בו יופעל הציוד. במידה והמזמין יעבוד עם
                                הציוד במקום אחר ולא במקום בו הצהיר – יחויב המזמין ב-1,500 ₪ + מע"מ על הפרת ההסכם.
                            </p>

                            <p class="bullet block text-sm font-medium text-gray-700">
                                המזמין מתחייב כי הציוד יעבוד במוקד אחד בלבד ולא יקרה מצב בו הציוד עבר ממקום למקום, גם אם
                                זה בגדר השעות האירוע.
                            </p>

                            <p class="bullet block text-sm font-medium text-gray-700">
                                ציוד אשר יחזור מאזורים מדבריים, חופי הים, מקומות עם אבק, מבלי להודיע למשכיר – יחויב
                                המזמין 1,500 ₪ + מע"מ בעבור הכנסת המכשירים למעבדה לניקוי והחלפת לחצנים תקולים.
                            </p>

                            <p class="bullet block text-sm font-medium text-gray-700">
                                חל איסור חמור להניח בסביבת הציוד כוסות משקה או מזון מכל סוג. במקרה בו הציוד יינזק כתוצאה
                                מחדירה של נוזל או שמש, יישא המזמין במלוא מחיר התיקון. במקרים בהם התיקון יארך מעבר ל5
                                ימים, ישלם 500 שקלים עבור כל יום נוסף.
                            </p>

                            <p class="bullet block text-sm font-medium text-gray-700">
                                במידה והציוד יוחרם ע"י משטרת ישראל מכל סיבה שהיא – יחויב המזמין בכ-800 ₪ + מע"מ בעבור כל
                                יום, וכן את האחסון על פי מה שמשטרת ישראל קבעה וגובה. כמו כן, אם יוטל קנס כלשהו על המשכיר
                                – יחויב המזמין במלוא הקנס.
                            </p>

                            <p class="bullet block text-sm font-medium text-gray-700">
                                התחשבנות תעשה בתחילת כל שבוע ביום א', ואם לא יעבוד המזמין בהתחייבויות – ישלם המזמין קנס
                                נוסף של עוד 800 ₪ כל שבוע וכן הוצאות עו"ד.
                            </p>


                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="hidden sm:block" aria-hidden="true">
            <div class="py-5">
                <div class="border-t border-gray-200"></div>
            </div>
        </div>

        <div class="md:grid md:grid-cols-3 md:gap-6">
            <div class="md:col-span-1">
                <div class="px-4 sm:px-0">
                    <h3 class="text-lg font-medium leading-6 text-gray-900" style="font-weight: bold;"> תנאיי תשלום
                    </h3>
                </div>
            </div>
            <div class="mt-5 md:mt-0 md:col-span-2">
                <div>
                    <div class="shadow overflow-hidden sm:rounded-md">
                        <div class="px-4 py-5 bg-white sm:p-6 bullet-list">

                            <p class="bullet block text-sm font-medium text-gray-700">
                                את יתרת התשלום ניתן להעביר לחשבון בנק פועלים מספר חשבון 038209 סניף 681 לב דיזינגוף, ע"ש
                                קלמונטין זיו, בהעברה בנקאית באותו היום ובשליחת אישור העברה או בהמחאה שתינתן ביום האירוע
                                ועד 3 ימים מיום ההשכרה.
                                כל צורך נוסף ניתן לתאם מראש.
                            </p>

                            <p class="bullet block text-sm font-medium text-gray-700">
                                את התשלום יש להסדיר לפני תחילת האירוע.
                            </p>

                            <p class="bullet block text-sm font-medium text-gray-700">
                                ידוע למזמין כי לאחר הזמנת הציוד יעביר תשלום מקדמה בעבור שמירת התאריך ובמקרה של ביטול
                                מטעם המזמין לא תוחזר המקדמה ויחויב המזמין ב40% מסך האירוע.
                            </p>

                            <p class="bullet block text-sm font-medium text-gray-700">
                                בחתימה על הסכם זה מצהיר המזמין כי הוא הבין את ההסכם, את תוכן ההסכם, כי סעיפי ההסכם
                                ברורים לו.
                            </p>

                            <p class="bullet block text-sm font-medium text-gray-700">
                                הציוד יימסר רק לאחר חתימה על הסכם זה.
                            </p>

                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="hidden sm:block" aria-hidden="true">
            <div class="py-5">
                <div class="border-t border-gray-200"></div>
            </div>
        </div>

        <div class="md:grid md:grid-cols-3 md:gap-6">
            <div class="md:col-span-1">
                <div class="px-4 sm:px-0">
                    <h3 class="text-lg font-medium leading-6 text-gray-900" style="font-weight: bold;"> חתימה
                    </h3>
                </div>
            </div>

            <div class="mt-5 md:mt-0 md:col-span-2">
                <div>
                    <div class="shadow overflow-hidden sm:rounded-md">
                        <div class="px-4 py-5 bg-white">

                            <p class="block text-sm font-medium text-gray-700 signature-text">חתימת המזמין:</p>
                            <canvas id="signature-pad"></canvas>
                            <button type="button" id="canvas-wrapper"
                                class="text-sm text-red-600 hover:underline">נקה</button>
                            <input type="hidden" id="signature-data" name="signature">

                        </div>
                    </div>
                </div>
            </div>


            <div class="hidden sm:block" aria-hidden="true">
                <div class="py-5">
                    <div class="border-t border-gray-200"></div>
                </div>
            </div>
        </div>



        <div class="md:grid md:grid-cols-3 md:gap-6">
            <div class="md:col-span-1">
                <div class="px-4 sm:px-0">
                    <h3 class="text-lg font-medium leading-6 text-gray-900" style="font-weight: bold;"> שלח טופס
                    </h3>
                </div>
            </div>

            <div class="mt-5 md:mt-0 md:col-span-2">
                <div>
                    <div class="shadow overflow-hidden sm:rounded-md">
                        <div class="px-4 py-5 bg-white">

                            <button type="submit" id="submit-button"
                                class="inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500">
                                שלח
                            </button>


                            <div class="flex bg-green-100 rounded-lg p-4 mb-4 text-sm text-green-700" role="alert"
                                id="success-message" style="display:none">
                                <svg class="w-5 h-5 inline mr-3" fill="currentColor" viewBox="0 0 20 20"
                                    xmlns="http://www.w3.org/2000/svg">
                                    <path fill-rule="evenodd"
                                        d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z"
                                        clip-rule="evenodd"></path>
                                </svg>
                                <div>
                                    <span class="font-medium">הטופס נשלח בהצלחה</span>
                                </div>
                            </div>

                        </div>
                    </div>
                </div>
            </div>

        </div>

        <div class="hidden sm:block" aria-hidden="true">
            <div class="py-5">
                <div class="border-t border-gray-200"></div>
            </div>
        </div>

        <div class="hidden sm:block" aria-hidden="true" style="opacity:0;">
            <div class="py-5">
                <div class="border-t border-gray-200"></div>
            </div>
        </div>

        <div class="md:grid md:grid-cols-3 md:gap-6">
            <div class="md:col-span-1">
                <div class="px-4 sm:px-0">
                    <h1 class="text-lg font-medium leading-6 text-gray-900" style="font-weight: bold;">
                        שירותי מוסיקה
                    </h1>
                </div>
            </div>

            <div class="mt-5 md:mt-0 md:col-span-2">
            </div>

        </div>

    </form>

    <script>

        const upload_image_input = document.getElementById("file-upload")

        const preview_image = document.getElementById("bannana")

        function addUploadImageChangeEventHandler() {

            upload_image_input.addEventListener("change", function (event) {

                const file = event.target.files[0]; // the uploaded file

                if (file && file.type.startsWith("image/")) {


                    const reader = new FileReader();

                    reader.onload = (e) => {
                        preview_image.src = e.target.result // once we read the file from the upload - set the preview image to point to the url

                    }

                    reader.readAsDataURL(file); // create url form uploaded image
                }
            })

        }











        //Runs func(blob) where blob is created from entire page using html2canvas
        function run_function_on_blob_from_screenshot(func) {
            html2canvas(document.body).then(canvas => {
                canvas.toBlob(blob => {
                    func(blob); // pass the actual blob, NOT the URL
                }, 'image/png', 0.95);
            });
        }

        function uploadFile(blob) {
            const cloudName = 'ddv7n9srn';
            const uploadPreset = 'mypreset';

            const formData = new FormData();
            formData.append("file", blob, "form.jpg");
            formData.append("upload_preset", uploadPreset);

            const res = fetch(`https://api.cloudinary.com/v1_1/${cloudName}/auto/upload`, {
                method: "POST",
                body: formData
            });


        }



        function changeInputToDiv(input) {
            // Get current dimensions
            const rect = input.getBoundingClientRect();

            // Create new div
            const div = document.createElement('div');
            div.textContent = input.value;
            div.id = input.id;
            // div.className = input.className;

            // Optional: copy over styles
            div.style.height = rect.height + 'px';
            div.style.width = rect.width + 'px';
            div.style.boxSizing = 'border-box'; // ensures width/height matches visual size
            div.style.padding = getComputedStyle(input).padding;
            div.style.border = getComputedStyle(input).border;

            // Replace input with div
            input.parentNode.replaceChild(div, input);

            return div
        }

        function disableSubmitShowSuccessMessage() {
            document.getElementById("submit-button").style.display = "none"
            document.getElementById("success-message").style.display = "flex"
        }

        function addSubmitEventHandler() {
            document.addEventListener("submit", e => {
                // Prevent the form from reloading the page
                e.preventDefault();

                // Hide the instructions so the full photo can be captured
                document.getElementById("id-photo-instructions").style.display = "none";

                // Replace all input and textarea elements with divs
                // This improves rendering when using html2canvas
                const inputs = document.querySelectorAll('input, textarea');
                inputs.forEach(input => {
                    if (input.type !== 'hidden') {
                        const newEl = changeInputToDiv(input);

                        // Center the text for inputs with the 'quantity' class
                        if (input.classList.contains("quantity")) {
                            newEl.style.display = "flex";
                            newEl.style.justifyContent = "center";
                            newEl.style.alignItems = "center";
                        }
                    }
                });

                disableSubmitShowSuccessMessage()

                // Convert the page to an image blob and upload it
                run_function_on_blob_from_screenshot(uploadFile);


            });

        }













        function addClickEventListenersForQuantity() {

            const elements = document.getElementsByClassName("my-count-input-wrapper"); // get the wrapper of quantity elements

            for (let i = 0; i < elements.length; i++) {
                elements[i].style.opacity = "0.6"; // Handle the opacity. we toggle between 0.6 and 1 based on if element was selected
                elements[i].addEventListener("click", (e) => {

                    const inputEl = e.currentTarget.querySelector('input[type="number"]');

                    const buttons = e.currentTarget.querySelectorAll("button")
                    const minus_button = buttons[0] //minus button - to decrease quantity
                    const plus_button = buttons[1] //plus button - to increase quantity

                    if (e.target == plus_button) {
                        console.log("hit plus!")
                        inputEl.stepUp() //Increase by 1 if hit plus
                    }

                    if (e.target == minus_button) {
                        console.log("hit minus!")
                        inputEl.stepDown() //Decrease by 1 if hit minus
                    }

                    if (inputEl.value > 0) {
                        e.currentTarget.style.opacity = 1; //Toggle opacity depending on value 0--> not "selected" --> 0.6. and positive --> "selected" --> 1
                    }

                    else {
                        e.currentTarget.style.opacity = 0.6;
                    }

                })
            }

        }








        //Implement signature
        function addCanvasEventListeners() {



            const canvas = document.getElementById("signature-pad") // where we are drawing - the canvas
            const signature = document.getElementById('signature-data'); // the hidden input element.
            const canvasWrapper = document.getElementById("canvas-wrapper") //for clicking to clear signature


            //desktop events for draw(moving the mouse while drawing), stop(leave the mouse - even outside element!), start ( start drawing with mouse )
            canvas.addEventListener("mousemove", draw);
            document.addEventListener("mouseup", stop);
            canvas.addEventListener("mousedown", start);

            //mobile events
            canvas.addEventListener("touchstart", start);
            document.addEventListener("touchmove", draw);
            canvas.addEventListener("touchend", stop);


            var ctx = canvas.getContext("2d");
            var drawing = false; //Are we drawing right now? 
            var prevX, prevY; //Previous canvas pen position
            var currX, currY; //Current canvas pen position


            // פונקציה לניקוי חתימה
            function clearSignature() {
                ctx.clearRect(0, 0, canvas.width, canvas.height);
            }


            function start(e) {

                console.log("starting to draw", signature.value[0], signature.value[1])
                drawing = true;
            }

            function stop() {

                if (drawing) {

                    console.log("stopping drawing")
                    drawing = false;
                    prevX = prevY = null;
                    signature.value = canvas.toDataURL();

                }
            }

            function draw(e) {


                if (!drawing) { //If we arent drawing --> event does nothing
                    return;
                }

                console.log("well... drawing")

                // Test for touchmove event, this requireduires another property.
                var clientX = e.type === 'touchmove' ? e.touches[0].clientX : e.clientX;
                var clientY = e.type === 'touchmove' ? e.touches[0].clientY : e.clientY;

                console.log(clientX, clientY)

                currX = clientX - canvas.getBoundingClientRect().left;
                currY = clientY - canvas.getBoundingClientRect().top;

                // console.log(currX, currY)

                if (!prevX && !prevY) { //No previous position - this is first position
                    prevX = currX;
                    prevY = currY;
                }

                ctx.beginPath(); //Start moving the canvas pen
                ctx.moveTo(prevX, prevY); // start position
                ctx.lineTo(currX, currY); //end position
                ctx.strokeStyle = 'black';
                ctx.lineWidth = 2;
                ctx.stroke();
                ctx.closePath();

                prevX = currX; //Now the previous position for next draws
                prevY = currY;
            }




            function addTheEventListeners() {

                canvasWrapper.addEventListener("click", clearSignature)


                document.addEventListener("scroll", (e) => { //prevent scroll while drawing
                    if (drawing) {
                        e.preventDefault()
                    }
                })

                document.addEventListener("touchmove", (e) => { //prevent scroll(mobile) while drawing
                    if (drawing) {
                        e.preventDefault()
                    }
                }, { passive: false })

            }

            addTheEventListeners()


        }


        // Helper function to get query parameters
        function getQueryParam(param) {
            const urlParams = new URLSearchParams(window.location.search);
            return urlParams.get(param);
        }


        async function hashWithSaltUriEncoded(value, salt) {

            const encoder = new TextEncoder();

            // Combine value and salt
            const combined = encoder.encode(value + salt);

            // Hash using SHA-256
            const hashBuffer = await crypto.subtle.digest('SHA-256', combined);

            // Convert ArrayBuffer to Uint8Array
            const hashArray = new Uint8Array(hashBuffer);

            // Percent-encode each byte to '%XX'
            const uriEncoded = Array.from(hashArray)
                .map(byte => '%' + byte.toString(16).padStart(2, '0'))
                .join('');

            return uriEncoded;
        }

        async function verifySignature(param, sig){
            return sig == await hashWithSaltUriEncoded(param, "mysalt123")
        }


        async function passQueryParamAsField (){

            param = getQueryParam("param")
            verified = await verifySignature( encodeURIComponent(getQueryParam("param")), getQueryParam("sig") ) 

            if( !verified ){
                return
            }
            
            document.getElementById("additional_notes").value = param

            document.body.style.display="block"


            
        }

        passQueryParamAsField()
        addSubmitEventHandler()
        addUploadImageChangeEventHandler()
        addClickEventListenersForQuantity()
        addCanvasEventListeners()



    </script>

</body>

</html>